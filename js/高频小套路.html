<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用代码片段 | 马成的日志</title>
    <meta name="description" content="马成的日志">
    
    
    <link rel="preload" href="/assets/css/0.styles.3edbc46a.css" as="style"><link rel="preload" href="/assets/js/app.a9ab212a.js" as="script"><link rel="preload" href="/assets/js/2.4514bd47.js" as="script"><link rel="preload" href="/assets/js/43.d061c26d.js" as="script"><link rel="prefetch" href="/assets/js/10.6dedf7e5.js"><link rel="prefetch" href="/assets/js/11.45516bfc.js"><link rel="prefetch" href="/assets/js/12.11bce665.js"><link rel="prefetch" href="/assets/js/13.4449a1d2.js"><link rel="prefetch" href="/assets/js/14.b4c9bd9c.js"><link rel="prefetch" href="/assets/js/15.f619b43f.js"><link rel="prefetch" href="/assets/js/16.22cce3cf.js"><link rel="prefetch" href="/assets/js/17.e85694af.js"><link rel="prefetch" href="/assets/js/18.d16027c1.js"><link rel="prefetch" href="/assets/js/19.7fe78433.js"><link rel="prefetch" href="/assets/js/20.4931d07d.js"><link rel="prefetch" href="/assets/js/21.94bf61f1.js"><link rel="prefetch" href="/assets/js/22.35704660.js"><link rel="prefetch" href="/assets/js/23.f1ed7643.js"><link rel="prefetch" href="/assets/js/24.ff2801e8.js"><link rel="prefetch" href="/assets/js/25.c3d801cc.js"><link rel="prefetch" href="/assets/js/26.a3e6d133.js"><link rel="prefetch" href="/assets/js/27.432939de.js"><link rel="prefetch" href="/assets/js/28.f1460489.js"><link rel="prefetch" href="/assets/js/29.4eb2a704.js"><link rel="prefetch" href="/assets/js/3.bcd1ae82.js"><link rel="prefetch" href="/assets/js/30.b04eb895.js"><link rel="prefetch" href="/assets/js/31.93bfa56a.js"><link rel="prefetch" href="/assets/js/32.5cb6ba10.js"><link rel="prefetch" href="/assets/js/33.ae16d7ba.js"><link rel="prefetch" href="/assets/js/34.aaa226d3.js"><link rel="prefetch" href="/assets/js/35.c863814a.js"><link rel="prefetch" href="/assets/js/36.35ae20fd.js"><link rel="prefetch" href="/assets/js/37.a7da877f.js"><link rel="prefetch" href="/assets/js/38.52e05500.js"><link rel="prefetch" href="/assets/js/39.4505410f.js"><link rel="prefetch" href="/assets/js/4.e0a7a5e6.js"><link rel="prefetch" href="/assets/js/40.fb917143.js"><link rel="prefetch" href="/assets/js/41.5ec83de9.js"><link rel="prefetch" href="/assets/js/42.725572dd.js"><link rel="prefetch" href="/assets/js/44.df45f429.js"><link rel="prefetch" href="/assets/js/45.73541408.js"><link rel="prefetch" href="/assets/js/46.cf5996d0.js"><link rel="prefetch" href="/assets/js/5.63a71454.js"><link rel="prefetch" href="/assets/js/6.aa81e586.js"><link rel="prefetch" href="/assets/js/7.c158ba09.js"><link rel="prefetch" href="/assets/js/8.3639371a.js"><link rel="prefetch" href="/assets/js/9.b3d6674c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3edbc46a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">马成的日志</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <a href="https://github.com/macheng2017/article" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div> <a href="https://github.com/macheng2017/article" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>一些闪念</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日定投(TheDailyRegularInvesting)</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js/conf.html" class="sidebar-link">ssh链接的心跳检测</a></li><li><a href="/js/es6.html" class="sidebar-link">解构(Destructing)</a></li><li><a href="/js/js和java.html" class="sidebar-link">js与java对比</a></li><li><a href="/js/qa.html" class="sidebar-link">遇到的问题记录:</a></li><li><a href="/js/函数式编程.html" class="sidebar-link">函数式编程</a></li><li><a href="/js/开发日志.html" class="sidebar-link">/js/开发日志.html</a></li><li><a href="/js/浅拷贝深拷贝.html" class="sidebar-link">深拷贝浅拷贝</a></li><li><a href="/js/高频小套路.html" class="active sidebar-link">常用代码片段</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_1-设置一个标志位-确保逻辑只执行一次" class="sidebar-link">1. 设置一个标志位,确保逻辑只执行一次</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_2-拼接url" class="sidebar-link">2. 拼接url</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_3-借助ramda-将文件夹下的插件自动加载" class="sidebar-link">3. 借助ramda 将文件夹下的插件自动加载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_4" class="sidebar-link">4.</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_5-爬取数据并过滤" class="sidebar-link">5. 爬取数据并过滤</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_6-拼接json数据" class="sidebar-link">6. 拼接json数据</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#面试-淘宝首页到底用了多少种标签" class="sidebar-link">面试 淘宝首页到底用了多少种标签?</a></li><li class="sidebar-sub-header"><a href="/js/高频小套路.html#_7-js当中的单例" class="sidebar-link">7 js当中的单例</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>读书笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>pm2部署</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue学习笔记</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常用代码片段"><a href="#常用代码片段" class="header-anchor">#</a> 常用代码片段</h1> <h2 id="_1-设置一个标志位-确保逻辑只执行一次"><a href="#_1-设置一个标志位-确保逻辑只执行一次" class="header-anchor">#</a> 1. 设置一个标志位,确保逻辑只执行一次</h2> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token function">loadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 高频小套路 设置一个标志位,确保逻辑只执行一次</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>checkLoaded<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'图片加载重新计算...'</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>scroll<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>checkLoaded <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-拼接url"><a href="#_2-拼接url" class="header-anchor">#</a> 2. 拼接url</h2> <p>下面的也是高频小套路</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">function</span> <span class="token function">param</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> k <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> data<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> data<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token string">''</span>
    <span class="token comment">// 将参数添加到url之后</span>
    url <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&amp;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 需要删除多余的&amp;</span>
  <span class="token keyword">return</span> url <span class="token operator">?</span> url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-借助ramda-将文件夹下的插件自动加载"><a href="#_3-借助ramda-将文件夹下的插件自动加载" class="header-anchor">#</a> 3. 借助ramda 将文件夹下的插件自动加载</h2> <div class="language-js extra-class"><pre class="language-js"><code>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//可以在最右侧传入数组</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">useMiddleWares</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>app<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token constant">MIDDLEWARES</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
    <span class="token function">userMiddleWares</span> <span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">compose</span><span class="token punctuation">(</span>
        <span class="token comment">// 9. 总结: 通过R.map来解析数组的每一项值,交给了一个专门生成绝对路径的一个函数,然后这个路径交给require ,</span>
        <span class="token comment">// 然后这个require来加载这个模块,然后我们再对他传入这个app,让每个中间件都能拿到这个app对象,进行初始化的工作</span>
        <span class="token comment">// 8.我们通过R.map通过传入i(app),把当前app穿进去,从而初始化中间件中的每一个函数</span>
        <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token function">i</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// 6. 整个这一行执行完成之返回去的就是一个绝对路径,然后交给一个require,来引入这个模块</span>
      <span class="token comment">// 7. 就可以拿到模块中暴露的函数</span>
        require<span class="token punctuation">,</span>

      <span class="token comment">// 1. R.compose 中间件的个数是不一定的,可以从右向左进行排列组合,右侧函数的返回结果都是左侧函数的输入参数</span>
      <span class="token comment">// 2. 所以我们可以倒着写</span>
      <span class="token comment">// 3. 每次传入的 MIDDLEWARES 通过这个R.map拿到的是一个个字符串</span>
      <span class="token comment">// 4. 可以将其转成一个标准的路径,+当前文件的名字</span>
      <span class="token comment">// 5. i =&gt; `resolve('./middlewares')/${i}`</span>
        <span class="token parameter">i</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">r</span><span class="token punctuation">(</span><span class="token string">'./middlewares'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

      <span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_4"><a href="#_4" class="header-anchor">#</a> 4.</h3> <p>if (obj.length)
这是一个潜在的崩溃风险
改成 if (obj &amp;&amp; obj.length) 就好了</p> <p>在入口 try catch也是规避的很好方式</p> <p>我在写 express 项目时，习惯的动作时再路由处理都用 try catch 来包裹。</p> <h3 id="_5-爬取数据并过滤"><a href="#_5-爬取数据并过滤" class="header-anchor">#</a> 5. 爬取数据并过滤</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">import</span> cheerio <span class="token keyword">from</span> <span class="token string">'cheerio'</span>
<span class="token keyword">import</span> rp <span class="token keyword">from</span> <span class="token string">'request-promise'</span>
<span class="token keyword">import</span> <span class="token constant">R</span> <span class="token keyword">from</span> <span class="token string">'ramda'</span>
<span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">'fs'</span>
<span class="token comment">// import Agent from 'socks5-http-client/lib/Agent'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getIMDBCharacters</span> <span class="token operator">=</span> <span class="token keyword">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    uri<span class="token operator">:</span> <span class="token string">'http://www.imdb.com/title/tt0944947/fullcredits?ref_=tt_cl_sm#cast'</span><span class="token punctuation">,</span>
    <span class="token comment">// 使用cheerio进行解析</span>
    <span class="token comment">// 网速过慢可以开启代理</span>
    <span class="token comment">// agentClass: Agent,</span>
    <span class="token comment">// agentOptions: {</span>
    <span class="token comment">//   socksHost: 'localhost',</span>
    <span class="token comment">//   socksPort: 3118</span>
    <span class="token comment">// },</span>
    <span class="token function-variable function">transform</span><span class="token operator">:</span> <span class="token parameter">body</span> <span class="token operator">=&gt;</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 通过选择器拿到数据</span>
  <span class="token comment">// 遍历数据</span>
  <span class="token keyword">let</span> photos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> $ <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">rp</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'table.cast_list tr.odd, tr.even'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前dom节点上的id</span>
    <span class="token keyword">const</span> nmIdDom <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'td.itemprop a'</span><span class="token punctuation">)</span>
    <span class="token comment">// 拿到url</span>
    <span class="token keyword">const</span> nmId <span class="token operator">=</span> nmIdDom<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> characterDom <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'td.character a'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> characterDom<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> chId <span class="token operator">=</span> characterDom<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span>
    <span class="token comment">// console.log(' chId ' + chId)</span>

    <span class="token keyword">const</span> playedByDom <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'td.itemprop span.itemprop'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> playedBy <span class="token operator">=</span> playedByDom<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 得到原始数据</span>
    photos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      nmId<span class="token punctuation">,</span>
      chId<span class="token punctuation">,</span>
      name<span class="token punctuation">,</span>
      playedBy
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'拿到多少条数据? '</span> <span class="token operator">+</span> photos<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
<span class="token comment">// 通过ramda 将</span>

  <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">compose</span><span class="token punctuation">(</span>
<span class="token comment">// 6. 再过滤一遍,将不符合要求的数据过滤出去</span>
  <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">photo</span> <span class="token operator">=&gt;</span> photo<span class="token punctuation">.</span>playedBy <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>name <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>nmId <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>chId <span class="token operator">!==</span> <span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// 3. 过滤整条数据之后,通过map遍历数据</span>
  <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">photo</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">// 5. 构建一个正则,将cmid拿出来</span>
    <span class="token keyword">const</span> reg1 <span class="token operator">=</span> <span class="token regex">/\/name\/(.*?)\/\?ref/</span>
    <span class="token keyword">const</span> reg2 <span class="token operator">=</span> <span class="token regex">/\/title\/tt0944947\/characters\/(.*?)\?ref/</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' reg1 '</span> <span class="token operator">+</span> reg1<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' reg2 '</span> <span class="token operator">+</span> reg2<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' nmId '</span> <span class="token operator">+</span> photo<span class="token punctuation">.</span>nmId<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' chId '</span> <span class="token operator">+</span> photo<span class="token punctuation">.</span>chId<span class="token punctuation">)</span>
    <span class="token keyword">const</span> match1 <span class="token operator">=</span> photo<span class="token punctuation">.</span>nmId<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg1<span class="token punctuation">)</span>
    <span class="token keyword">const</span> match2 <span class="token operator">=</span> photo<span class="token punctuation">.</span>chId<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg2<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' match1 '</span> <span class="token operator">+</span> match1<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' match2 '</span> <span class="token operator">+</span> match2<span class="token punctuation">)</span>

    photo<span class="token punctuation">.</span>nmId <span class="token operator">=</span> match1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>match2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      photo<span class="token punctuation">.</span>chId <span class="token operator">=</span> match2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 4. 最终返回的还是photo</span>
    <span class="token keyword">return</span> photo
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token comment">// 1. 先倒着写,通过filter拿到push到photo上的元数据,确定下数据是否完整</span>
<span class="token comment">// 2. 只有当4个字段都有,才会将数据进行分析,如果字段不全则丢掉这条数据</span>
<span class="token comment">// 通过R.compose可以倒着实现流程,最右边函数的结果就是左边函数的输入</span>
  <span class="token constant">R</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">photo</span> <span class="token operator">=&gt;</span> photo<span class="token punctuation">.</span>playedBy <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>name <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>nmId <span class="token operator">&amp;&amp;</span> photo<span class="token punctuation">.</span>chId<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
  photos <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>photos<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'清洗后剩余多少条数据? '</span> <span class="token operator">+</span> photos<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token comment">// 将数据写到本地</span>
  fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">'./imdb.json'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>photos<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getIMDBCharacters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_6-拼接json数据"><a href="#_6-拼接json数据" class="header-anchor">#</a> 6. 拼接json数据</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> readFilePath <span class="token operator">=</span> <span class="token string">'./img/'</span>
<span class="token comment">// 定义路径</span>
<span class="token keyword">const</span> <span class="token function-variable function">readFile</span> <span class="token operator">=</span> <span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">readFile</span><span class="token punctuation">(</span>readFilePath<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          <span class="token string">'src'</span><span class="token operator">:</span> v
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">{</span>
      data<span class="token operator">:</span> data
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="面试-淘宝首页到底用了多少种标签"><a href="#面试-淘宝首页到底用了多少种标签" class="header-anchor">#</a> 面试 淘宝首页到底用了多少种标签?</h3> <p>综合应用上面的片段</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取所有标签元素</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span>
<span class="token comment">// 展开为数组(原生nodelist是类似数组的对象即对象中有length属性)</span>
<span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// 转换为真正的数组</span>
<span class="token comment">// 遍历数组</span>
<span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span>
<span class="token comment">// 去重</span>
<span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>seze

</code></pre></div><p><a href="http://es6.ruanyifeng.com/#docs/array#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6" target="_blank" rel="noopener noreferrer">数组的扩展 - ECMAScript 6入门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>与之相似的还有这个代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// NodeList对象</span>
<span class="token keyword">let</span> ps <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> p<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// arguments对象</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>小实验: 验证了这两段相似的代码结果是否一样</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
    <span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> p<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span>length <span class="token operator">&gt;</span><span class="token number">100</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> <span class="token keyword">return</span> p<span class="token punctuation">.</span>textContent<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>上面代码中，querySelectorAll方法返回的是一个类似数组的对象，可以将这个对象转为真正的数组，
再使用filter方法。
<a href="http://es6.ruanyifeng.com/#docs/array#Array-from" target="_blank" rel="noopener noreferrer">数组的扩展 - ECMAScript 6入门<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="_7-js当中的单例"><a href="#_7-js当中的单例" class="header-anchor">#</a> 7 js当中的单例</h3> <div class="language-js extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code>     <span class="token function">_showShopCartSticky</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 创建一个ShopCartSticky</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>shopCartStickyComp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shopCartStickyComp <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$createShopCartSticky</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    $props<span class="token operator">:</span> <span class="token punctuation">{</span>
                        selectFoods<span class="token operator">:</span> <span class="token string">'selectFoods'</span><span class="token punctuation">,</span>
                        deliveryPrice<span class="token operator">:</span> <span class="token string">'deliveryPrice'</span><span class="token punctuation">,</span>
                        minPrice<span class="token operator">:</span> <span class="token string">'minPrice'</span><span class="token punctuation">,</span>
                        fold<span class="token operator">:</span> <span class="token string">'listFold'</span><span class="token punctuation">,</span>
                        list<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shopCartListComp
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>shopCartStickyComp<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
</code></pre></div><p>这个代码中重点在  this.shopCartStickyComp = this.shopCartStickyComp || this.$createShopCartSticky({
如果this.shopCartStickyComp 中有值则不用创建</p> <h4 id="_8-让图片达到等比方形的技巧"><a href="#_8-让图片达到等比方形的技巧" class="header-anchor">#</a> 8 让图片达到等比方形的技巧</h4> <div class="language-css extra-class"><pre class="language-css"><code>.image-header
      <span class="token property">position</span><span class="token punctuation">:</span> relative
      <span class="token property">width</span><span class="token punctuation">:</span> 100%
      <span class="token property">height</span><span class="token punctuation">:</span> 0
      <span class="token property">padding-top</span><span class="token punctuation">:</span> 100%
      img
        <span class="token property">position</span><span class="token punctuation">:</span> absolute
        <span class="token property">top</span><span class="token punctuation">:</span> 0
        <span class="token property">left</span><span class="token punctuation">:</span> 0
        <span class="token property">width</span><span class="token punctuation">:</span> 100%
        <span class="token property">height</span><span class="token punctuation">:</span> 100%
</code></pre></div><h4 id="_9-一个开关的例子"><a href="#_9-一个开关的例子" class="header-anchor">#</a> 9 一个开关的例子</h4> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>show = !show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        Toggle
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      el<span class="token operator">:</span> <span class="token string">'#demo'</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        show<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.fade-enter-active, .fade-leave-active</span> <span class="token punctuation">{</span>
      <span class="token property">transition</span><span class="token punctuation">:</span> opacity .5s<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    .fade-enter<span class="token punctuation">,</span> .fade-leave-to <span class="token comment">/* .fade-leave-active below version 2.1.8 */</span> <span class="token punctuation">{</span>
      <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>show = !show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
</code></pre></div><p>使用这么简单的方式就可以控制显示与隐藏</p> <blockquote><ul><li><a href="https://cn.vuejs.org/v2/guide/transitions.html" target="_blank" rel="noopener noreferrer">进入/离开 &amp; 列表过渡 — Vue.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/macheng2017/article/edit/master/docs/js/高频小套路.md" target="_blank" rel="noopener noreferrer">帮我改善此文章</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">8/18/2020, 5:25:32 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/浅拷贝深拷贝.html" class="prev">深拷贝浅拷贝</a></span> <span class="next"><a href="/book/2019年3月18日 fork过来的仓库同步更简单方法.html">2019年3月18日 fork过来的仓库同步更简单方法</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a9ab212a.js" defer></script><script src="/assets/js/2.4514bd47.js" defer></script><script src="/assets/js/43.d061c26d.js" defer></script>
  </body>
</html>
