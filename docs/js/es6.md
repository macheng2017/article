
# 解构(Destructing)

## 数组的解构

* 这种写法属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值。
```js
let [,,third] = ['foo','bar','baz']
// third  baz

let [foo,[[bar],baz]] = [1,[[2],3]]

```
* 这个比较奇怪head接收了1,...tail相当于截取了除1之外的剩余部分数组
```js
let[head,...tail] = [1,2,3,4]
// head  1
// tail  [2,3,4]

// 用这个例子对比下就比较明显了
let [x,y,...z] = ['a']
// x  a
// y  undefined
// z  []
```
> * 如果解构不成功，变量的值就等于undefined。用于判断不成功的情况

:::tip
简单总结下: 左边的能解构说明右边的有与之相对应的结构,就行镜像世界的两面,数组用数组的方式,对象用对象的方式等等
:::


### 扩展运算符
>含义
>扩展运算符（spread）是三个点（...）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。


```js
// 这个理解起来比较费解
// 把当前购物车的物品备份起来
    const savedCartItems = [...state.cart.added]

```
[Action | Vuex](https://vuex.vuejs.org/zh/guide/actions.html)

:::tip
对于感觉理解比较困难的代码,可以采取两种策略
1. 放慢速度
    * 放慢速度阅读,就像学习英语口语一样正常速度跟不上就调到0.5倍速,说什么也能跟上了
2. 拆解
    * 将看似浑然一体的代码拆解成若干小步骤,一步一步放慢速度阅读
:::
#### 拆解
1. 假如state.cart.added 是一个数组[1,2,3]
2. 那么 ...state.cart.added就是将一个数组转为用逗号分隔的参数序列 1,2,3
3. 然后加上[],就是重新放到一个数组当中,最后的结果就是一个数组[1,2,3]

##### 和最初的一样那么问题是这么做的意义是什么?
猜测是copy 上面不是已经说了'把购物车中的物品备份起来'
用这种方式copy一份新的数组
>
>[数组的扩展 - ECMAScript 6入门](http://es6.ruanyifeng.com/#docs/array#%E5%90%AB%E4%B9%89)
