(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{250:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"遇到的问题记录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题记录"}},[t._v("#")]),t._v(" 遇到的问题记录:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("async await 的写法会不会造成线程阻塞?")]),t._v(" "),s("blockquote",[s("p",[t._v("搜索关键词 async await 阻塞")])])])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cnodejs.org/topic/57d289dcdd64a7dd387f387e",target:"_blank",rel:"noopener noreferrer"}},[t._v("请问async await需要等到返回结果后才能向下执行，这是不是违背了node异步非阻塞io的模式呢？ - CNode技术社区"),s("OutboundLink")],1)]),t._v(" "),s("h1",{attrs:{id:"记录一次mongodb的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#记录一次mongodb的问题"}},[t._v("#")]),t._v(" 记录一次mongodb的问题")]),t._v(" "),s("p",[t._v("事情是这样的今天做了一个含有表单的选项卡,在提交数据的时候总是在第二次提交的时候才是当前表单中的数据,\n才开始想有几种可能")]),t._v(" "),s("ol",[s("li",[t._v("可能是用了vuex导致了数据没有及时的提交到state中 解决方法就是在提交数据之前先commit到state中,结果不行")]),t._v(" "),s("li",[t._v("可能是虽然提交到了state中,但是方法可能是不同步的导致了拿到的还是原来的数据 解决方式是,写成同步的")]),t._v(" "),s("li",[t._v("最后反复折腾,最后突然想到了可能是mongdb 中findByIdAndUpdate返回的就是查询出来的值,即修改之前的值")])]),t._v(" "),s("p",[t._v("最后查询了文档果然就是这个问题,\n"),s("a",{attrs:{href:"https://mongoosejs.com/docs/api.html#model_Model.findByIdAndUpdate",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mongoose v5.8.11: API docs"),s("OutboundLink")],1)]),t._v(" "),s("pre",[s("code",[t._v("Returns:\n«Query»\nIssues a mongodb findAndModify update command by a document's _id field. findByIdAndUpdate(id, ...) is equivalent to findOneAndUpdate({ _id: id }, ...).\n\nFinds a matching document, updates it according to the update arg, passing any options, and returns the found document (if any) to the callback. The query executes if callback is passed.\n\nThis function triggers the following middleware.\n\nfindOneAndUpdate()\n")])]),t._v(" "),s("p",[t._v("为了防止以后再出现类似问题总结如下:")]),t._v(" "),s("ol",[s("li",[t._v("看数据是否入库,直接查询数据库即可,不用再看http的 response,有可能返回的是修改之前,删除之前的值")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/macheng2017/crm-zbx-admin/commit/8998f3f11c30239216b3cbac0aba3768cda29d28",target:"_blank",rel:"noopener noreferrer"}},[t._v("refactor:修复了detail的动态组件错误,以及重构了baseInfo的提交逻辑 · macheng2017/crm-zbx-admin@8998f3f"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"el-cascader动态加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#el-cascader动态加载"}},[t._v("#")]),t._v(" el-cascader动态加载")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-cascader")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":props")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("el-cascader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("这个问题比较复杂,2020/2/5几乎是花了一下午时间都没搞定,晚上痛不欲生,茶不思饭不想的,老是惦记着这个事,\n想起来晚上慢慢拆解,还记得我总结出来的技巧吗?")]),t._v(" "),s("ol",[s("li",[t._v("拆解")]),t._v(" "),s("li",[t._v("放慢速度")]),t._v(" "),s("li",[t._v("一小步一小步做试验")]),t._v(" "),s("li",[t._v("记录下自己的思考过程")])]),t._v(" "),s("h4",{attrs:{id:"拆解思路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拆解思路"}},[t._v("#")]),t._v(" 拆解思路")]),t._v(" "),s("ol",[s("li",[t._v("首先确定一个问题就是,既然动态加载看不懂,先看下固定列表的数据结构是怎样的?")]),t._v(" "),s("li",[t._v("动态和静态的数据结构应该是大同小异的")]),t._v(" "),s("li")]),t._v(" "),s("h4",{attrs:{id:"做试验-2020-2-5-22-19-第一次试验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#做试验-2020-2-5-22-19-第一次试验"}},[t._v("#")]),t._v(" 做试验 2020/2/5 22:19 第一次试验")]),t._v(" "),s("ol",[s("li",[t._v("搭建实验环境")]),t._v(" "),s("li",[t._v("把静态列表放入data中弄清楚其中的列表选项的数据结构")]),t._v(" "),s("li",[t._v("边运行边修改")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.mkboke.com/note-book/146/",target:"_blank",rel:"noopener noreferrer"}},[t._v("element el-cascader 动态加载次级选项，防止重复加载，异步请求三级数据 – MKBOKE"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://juejin.im/post/5bd90f67e51d452ef37d4541",target:"_blank",rel:"noopener noreferrer"}},[t._v("element UI Cascader 级联选择器 动态加载次级选项 - 掘金"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/list.html#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("列表渲染 — Vue.js"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.jianshu.com/p/91a409bc59f2",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用外部函数动态加载elememtUI的级联选择器 - 简书"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.geek-share.com/detail/2769427712.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("el-cascader级联组件动态加载数据允许选择任意一级的选项 - 极客分享"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"怎样在webstorm中快速打出console-log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#怎样在webstorm中快速打出console-log"}},[t._v("#")]),t._v(" 怎样在webstorm中快速打出console.log")]),t._v(" "),s("pre",[s("code",[t._v("Yes it does,\n\n<anything>.log and press Tab key. This will result in console.log(<anything>);\n\nie,\n\n<anything>.log + Tab => console.log(<anything>);\n\neg1: variable\n\nlet my_var = 'Hello, World!';\nmy_var.log + Tab => console.log(my_var);\neg2: string\n\n'hello'.log + Tab => console.log('hello');\neg3: string and variable\n\n'hello', my_var.log + Tab => console.log('hello', my_var);\n")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://stackoverflow.com/questions/32960725/does-webstorm-have-some-shortcut-for-console-log-or-console-info",target:"_blank",rel:"noopener noreferrer"}},[t._v("does webstorm have some shortcut for console.log or console.info - Stack Overflow"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"el-cascader-动态加载问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#el-cascader-动态加载问题"}},[t._v("#")]),t._v(" el-cascader 动态加载问题")]),t._v(" "),s("p",[t._v("遇到了一个问题:")]),t._v(" "),s("h2",{attrs:{id:"element-ui-validate这个方法写成async-方式的时候-true会返会有返回值-false的时候-会抛出一个异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#element-ui-validate这个方法写成async-方式的时候-true会返会有返回值-false的时候-会抛出一个异常"}},[t._v("#")]),t._v(" element ui validate这个方法写成async 方式的时候 true会返会有返回值,false的时候,会抛出一个异常")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// validate这个方法写成async 方式的时候 true会返会有返回值,false的时候,会抛出一个异常")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要用try catch接住")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" valid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$refs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("baseInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("validate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'valid'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 校验通过则提交到store")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("valid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vuex state 中")]),t._v("\n items"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-form-item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("label")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("项目:"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-select")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-model")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("baseInfo.items"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("请选择"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("multiple")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("el-option")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item in itemList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":label")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("el-select")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("el-form-item")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vuex state 中")]),t._v("\n items"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 项目")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\nvue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("esm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("619")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Vue warn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("transition"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("group"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" children must be keyed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ElTag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果 Select 的绑定值为对象类型，请务必指定 value-key 作为它的唯一性标识。")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n")])])]),s("p",[s("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/select#chuang-jian-tiao-mu",target:"_blank",rel:"noopener noreferrer"}},[t._v("组件 | Element"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"动态表单问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态表单问题"}},[t._v("#")]),t._v(" 动态表单问题")]),t._v(" "),s("p",[t._v("参考:")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://element.eleme.cn/#/zh-CN/component/form#dong-tai-zeng-jian-biao-dan-xiang",target:"_blank",rel:"noopener noreferrer"}},[t._v("组件 | Element"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://blog.csdn.net/m0_37036014/article/details/84104903",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue+Element动态生成新表单并添加验证_m0_37036014的博客-CSDN博客"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("折腾了几个小时,才想起来vuex只能在vue的环境中使用,普通的js文件是不能识别$store")]),t._v(" "),s("h2",{attrs:{id:"使用选项卡的时候有几个问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用选项卡的时候有几个问题"}},[t._v("#")]),t._v(" 使用选项卡的时候有几个问题:")]),t._v(" "),s("p",[t._v("使用vuex保存选项卡中的所有数据有几个弊端:")]),t._v(" "),s("ol",[s("li",[t._v("数据edit表单回显的时候,会有数据残留具体表现是这样的\n"),s("ul",[s("li",[t._v("比如a表单中总共有10项单只填写了3项,然后从list中再打开b表单,其中填写了2项,由于a,b表单中公用了vuex的数据a的表单项会交叉干扰b的表单项")]),t._v(" "),s("li",[t._v("这时候如果修改了表单b中的表单项,也会干扰到打开的表单a")]),t._v(" "),s("li",[t._v("如果去点击创建新表单时,数据也会残留,必须先清除数据")])])]),t._v(" "),s("li")]),t._v(" "),s("p",[t._v("如果让tab自己保存自己的数据,只把回显的数据放到vuex当中,这样只是从vuex读取数据,不用写入数据就不会产生其他的副作用")]),t._v(" "),s("h2",{attrs:{id:"vuex-中只保留各个组件中公共数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex-中只保留各个组件中公共数据"}},[t._v("#")]),t._v(" vuex 中只保留各个组件中公共数据")]),t._v(" "),s("ul",[s("li",[t._v("id,用于判断是创建还是更新")]),t._v(" "),s("li",[t._v("回显数据,因为回显数据是根据id一次性都查询出来的")]),t._v(" "),s("li",[t._v("提交数据的通用函数")])]),t._v(" "),s("p",[t._v("feat:完成person回显功能,发现一个问题,刚刚修改的内容必须第二次从list中点击才能看到结果\n而且只能在\n问题好像解决了,引起问题的原因是,父子组件的生命周期的问题,父组件设置为created,子组件设置为mounted之后问题消失")])])}),[],!1,null,null,null);a.default=n.exports}}]);