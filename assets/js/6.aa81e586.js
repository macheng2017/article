(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{208:function(t,s){t.exports="data:image/png;base64,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"},221:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"部署mixin-message-大群笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署mixin-message-大群笔记"}},[t._v("#")]),t._v(" 部署mixin Message 大群笔记")]),t._v(" "),a("p",[t._v("使用scp命令传送文件到linux服务器\nscp zcvf key.tar.gz root@xxxxx:/etc/nginx/conf.d/")]),t._v(" "),a("h4",{attrs:{id:"打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[t._v("#")]),t._v(" 打包")]),t._v(" "),a("p",[t._v("tar -zcvf ../db.tar.gz ./")]),t._v(" "),a("h4",{attrs:{id:"上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传"}},[t._v("#")]),t._v(" 上传")]),t._v(" "),a("p",[t._v("scp zcvf db.tar.gz root@xxxxx:/home/xxx")]),t._v(" "),a("h4",{attrs:{id:"解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解压"}},[t._v("#")]),t._v(" 解压")]),t._v(" "),a("p",[t._v("tar xvf db.tar.gz")]),t._v(" "),a("p",[t._v("今天部署了go写的一个web应用到linux服务器上,和javaWeb需要Apache Tomcat node.js需要pm2 不同的是,\ngo编译通过之后,直接文件名就可以运行,这也太爽了")]),t._v(" "),a("h4",{attrs:{id:"在部署的过程中出现了几个问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在部署的过程中出现了几个问题"}},[t._v("#")]),t._v(" 在部署的过程中出现了几个问题:")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("window的换行符和linux下的换行符不一样 window下使用\\n\\r linux只用\\r")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000010605053?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[t._v("vim下处理文档中的\\r\\n\\t字符 - 问题与解决 - SegmentFault 思否"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("go build 解决国内无法拉取依赖的问题\ngo env -w GOPROXY=https://goproxy.cn,direct")])]),t._v(" "),a("li",[a("p",[t._v("不熟悉postgreSQL在执行sql语句完成的状态 '=>' 与 '->' 的时候忘了加';'而导致执行失败之后状态不一样都没注意到")])])]),t._v(" "),a("h3",{attrs:{id:"记录下使用到的命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#记录下使用到的命令"}},[t._v("#")]),t._v(" 记录下使用到的命令")]),t._v(" "),a("ul",[a("li",[t._v("systemd")]),t._v(" "),a("li",[t._v("journalctl 查看日志")]),t._v(" "),a("li",[t._v("netstat -langput | grep LISTEN 查看端口")]),t._v(" "),a("li")]),t._v(" "),a("p",[t._v("从昨天一直在尝试,询问了相关开发人员后,得到的回复是host应该是一个url而不是api那么这个host到底是哪里配置的,只能是config.yaml中配置的,更改host配置后点击之后一直返回一条json信息")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BUILD_VERSION-go1.13.8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"developers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://developers.mixin.one"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("直到今天,才发现需要重新从对话中返回一个新的按钮,才能生效,而这里到一个链接"),a("br"),t._v("\n这个链接据猜测应该是一个授权或者付款页面,点击按钮后,并返回son对象")]),t._v(" "),a("p",[t._v("使用浏览器调试group.test.com")]),t._v(" "),a("h3",{attrs:{id:"linux-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-常用命令"}},[t._v("#")]),t._v(" linux 常用命令")]),t._v(" "),a("p",[t._v("数据库报错了需要查询日志文件,但是不知道文件存在哪个位置用到了locate这个命令")]),t._v(" "),a("p",[t._v("whereis 和 locate 是用来查找文件的")]),t._v(" "),a("p",[t._v("which 和 type 是查找命令的")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://blog.exin.one/2019/05/25/mixin-super-group/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mixin 大群部署完全教程 – Exin 团队博客"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"postgresql-基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgresql-基本操作"}},[t._v("#")]),t._v(" postgresql 基本操作")]),t._v(" "),a("p",[t._v("postgres是在linux安装postgreSQL 自动创建的一个Superuser下图说明了一些Superuser的一些权限")]),t._v(" "),a("p",[a("img",{attrs:{src:n(208),alt:"img"}})]),t._v(" "),a("ul",[a("li",[t._v("\\? help")]),t._v(" "),a("li",[t._v("\\l show databases")]),t._v(" "),a("li",[t._v("\\dt show tables")]),t._v(" "),a("li",[t._v("\\d 与\\dt区别是什么？")]),t._v(" "),a("li",[t._v("\\c dbname 切换到新数据库")]),t._v(" "),a("li",[t._v("\\c show current DB name and user")]),t._v(" "),a("li",[t._v("\\conninfo 显示客户端的连接信息")]),t._v(" "),a("li",[t._v("\\d table_name describ table")]),t._v(" "),a("li",[t._v("\\du list all roles")])]),t._v(" "),a("h3",{attrs:{id:"metacognition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#metacognition"}},[t._v("#")]),t._v(" metacognition")]),t._v(" "),a("ol",[a("li",[t._v("mixin大群本身就是一个机器人,可以学习机器人的写法,使用的是go语言,是通过阅读源码提升自己很好的一个案例")])]),t._v(" "),a("h3",{attrs:{id:"finished"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#finished"}},[t._v("#")]),t._v(" finished")]),t._v(" "),a("ol",[a("li",[t._v("部署完成mixin大群")]),t._v(" "),a("li",[t._v("并找到了一个bug,并通知相关人员修复")])]),t._v(" "),a("h3",{attrs:{id:"difficulty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#difficulty"}},[t._v("#")]),t._v(" difficulty")]),t._v(" "),a("p",[t._v("go语法不太熟悉")]),t._v(" "),a("h3",{attrs:{id:"review"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#review"}},[t._v("#")]),t._v(" review")]),t._v(" "),a("p",[t._v("回顾了一些linux的操作命令")]),t._v(" "),a("h3",{attrs:{id:"view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#view"}},[t._v("#")]),t._v(" view")]),t._v(" "),a("p",[t._v("postgreSQL的基本知识")]),t._v(" "),a("h3",{attrs:{id:"preview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preview"}},[t._v("#")]),t._v(" preview")]),t._v(" "),a("p",[t._v("慢慢回顾go语言基本语法")]),t._v(" "),a("h2",{attrs:{id:"使用ip-端口号配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用ip-端口号配置"}},[t._v("#")]),t._v(" 使用ip + 端口号配置")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# listen 443 ssl http2;")]),t._v("\n    listen 80;\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#server_name group.test.com;")]),t._v("\n    server_name 1xx.1xxx.1xxx.xxx;\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl on;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_certificate /etc/nginx/conf.d/cert/group.test.com_bundle.crt;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_certificate_key /etc/nginx/conf.d/cert/group.test.com.key;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_session_timeout 5m;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_protocols TLSv1 TLSv1.1 TLSv1.2;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_ciphers xxxxxxxx;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_prefer_server_ciphers on;")]),t._v("\n\n    root /var/www/test/dist;\n    index index.html index.htm;\n    charset utf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("8;\n\n    gzip            on;\n    gzip_comp_level 5;\n    gzip_min_length 256;\n    gzip_proxied    any;\n    gzip_types\n      application/atom+xml\n      application/javascript\n      application/json\n      application/ld+json\n      application/manifest+json\n      application/rss+xml\n      application/vnd.geo+json\n      application/vnd.ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("fontobject\n      application/x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("font"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ttf\n      application/x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("manifest+json\n      application/xhtml+xml\n      application/xml\n      font/opentype\n      image/bmp\n      image/svg+xml\n      image/x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("icon\n      text/cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("manifest\n      text/css\n      text/plain\n      text/vcard\n      text/vnd.rim.location.xloc\n      text/vtt\n      text/x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("component\n      text/x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("cross"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("domain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("policy;\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意，这里有修改，前端跳转路径变了")]),t._v("\n    location ~* \\.(js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("jpeg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v("ico)$ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      expires max;\n      try_files $uri =404;\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        try_files /index.html =404;\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("upstream test "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        server 127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("7001 fail_timeout=0;\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nserver "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# listen 443 ssl http2;")]),t._v("\n    listen 7002;\n    server_name 1xxx.1xxx.1xxx.xxxx;\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl on;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_certificate /etc/nginx/conf.d/cert/api.test.com_bundle.crt;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_certificate_key /etc/nginx/conf.d/cert/api.test.com.key;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_session_timeout 5m;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_protocols TLSv1 TLSv1.1 TLSv1.2;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_ciphers xxxxxxxx;")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ssl_prefer_server_ciphers on;")]),t._v("\n\n    index index.html index.htm;\n\n    charset utf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("8;\n\n    gzip            on;\n    gzip_comp_level 5;\n    gzip_proxied    any;\n    gzip_types      *;\n\n    location / "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        proxy_set_header  X"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Real"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("IP  $remote_addr;\n        proxy_set_header  X"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("For $proxy_add_x_forwarded_for;\n        proxy_set_header  X_FORWARDED_PROTO $scheme;\n        proxy_set_header  Host $http_host;\n        proxy_redirect    off;\n        client_max_body_size 1M;\n\n        proxy_pass http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//test;\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);